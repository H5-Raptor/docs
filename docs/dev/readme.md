# 说明
Raptor 并不约束组件开发环境，业务组可以充分定制，组件和平台的关联始于`组件发布`：把组件编译后的 UMD 和 ESM 文件提交（发布）到中台。

业务完全自定义组件开发环境可以分两步。
1. 先实现组件本地 dev 以验证组件自身逻辑完整性。
2. 再实现组件编辑面板展开及实时编辑，完全模拟中台编辑时交互体验。

::: tip
自定义组件开发环境以第一步为目标即可，
后续可能推出本地开发脚手架用来衔接业务自定义开发环境和 Raptor 可视化编辑时以保证组件本地开发体验。
:::

## 组件发布
通过 Web 表单形式发布组件比较麻烦，更加推荐业务侧使用 Open API 方式发布，封装命令式发布组件的方式。
而通过该形式发布组件，需要在请求头中增加`token`以便通过鉴权，个人`token`获取方式已在上文提及。

## 组件编译要求
业务侧编译组件时需要注意以下要求：
1. 提供 umd、esm 编译文件。因为预览页是 AMD 环境，需要 UMD 包来渲染。
2. 组件 npm 依赖不打包。组件依赖需要在业务组 AMD 环境配置依赖 path，在页面发布时组件依赖会被打包进应用。

::: tip
组件不打包其依赖，参考 webpack 或 rollup 的 external 配置。
:::

## 业务组 AMD 配置
由于组件不打包其依赖，那么 AMD 的预览环境需要做依赖包配置，使用方式可查阅 requirejs。
